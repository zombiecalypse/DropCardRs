(()=>{var e,t,n,a,r,o,s,i={},l={};function d(e){var t=l[e];if(void 0!==t)return t.exports;var n=l[e]={id:e,exports:{}};return i[e](n,n.exports,d),n.exports}d.m=i,e="function"==typeof Symbol,t=e?Symbol("webpack queues"):"__webpack_queues__",n=e?Symbol("webpack exports"):"__webpack_exports__",a=e?Symbol("webpack error"):"__webpack_error__",r=e=>{e&&e.d<1&&(e.d=1,e.forEach(e=>e.r--),e.forEach(e=>e.r--?e.r++:e()))},d.a=(e,o,s)=>{var i;s&&((i=[]).d=-1);var l,d,c,m=new Set,u=e.exports,p=new Promise((e,t)=>{c=t,d=e});p[n]=u,p[t]=e=>(i&&e(i),m.forEach(e),p.catch(e=>{})),e.exports=p,o(e=>{var o;l=(e=>e.map(e=>{if(null!==e&&"object"==typeof e){if(e[t])return e;if(e.then){var o=[];o.d=0,e.then(e=>{s[n]=e,r(o)},e=>{s[a]=e,r(o)});var s={};return s[t]=e=>e(o),s}}var i={};return i[t]=e=>{},i[n]=e,i}))(e);var s=()=>l.map(e=>{if(e[a])throw e[a];return e[n]}),d=new Promise(e=>{(o=()=>e(s)).r=0;var n=e=>e!==i&&!m.has(e)&&(m.add(e),e&&!e.d&&(o.r++,e.push(o)));l.map(e=>e[t](n))});return o.r?d:s()},e=>(e?c(p[a]=e):d(u),r(i))),i&&i.d<0&&(i.d=0)},d.d=(e,t)=>{for(var n in t)d.o(t,n)&&!d.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},d.f={},d.e=e=>Promise.all(Object.keys(d.f).reduce((t,n)=>(d.f[n](e,t),t),[])),d.u=e=>e+".bootstrap.js",d.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o={},s="flashcards-www:",d.l=(e,t,n,a)=>{if(o[e])o[e].push(t);else{var r,i;if(void 0!==n)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var m=l[c];if(m.getAttribute("src")==e||m.getAttribute("data-webpack")==s+n){r=m;break}}r||(i=!0,(r=document.createElement("script")).charset="utf-8",r.timeout=120,d.nc&&r.setAttribute("nonce",d.nc),r.setAttribute("data-webpack",s+n),r.src=e),o[e]=[t];var u=(t,n)=>{r.onerror=r.onload=null,clearTimeout(p);var a=o[e];if(delete o[e],r.parentNode&&r.parentNode.removeChild(r),a&&a.forEach(e=>e(n)),t)return t(n)},p=setTimeout(u.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=u.bind(null,r.onerror),r.onload=u.bind(null,r.onload),i&&document.head.appendChild(r)}},d.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},d.v=(e,t,n,a)=>{var r=fetch(d.p+""+n+".module.wasm"),o=()=>r.then(e=>e.arrayBuffer()).then(e=>WebAssembly.instantiate(e,a)).then(t=>Object.assign(e,t.instance.exports));return r.then(t=>"function"==typeof WebAssembly.instantiateStreaming?WebAssembly.instantiateStreaming(t,a).then(t=>Object.assign(e,t.instance.exports),e=>{if("application/wasm"!==t.headers.get("Content-Type"))return console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",e),o();throw e}):o())},d.p="/DropCardRs/",(()=>{var e={792:0};d.f.j=(t,n)=>{var a=d.o(e,t)?e[t]:void 0;if(0!==a)if(a)n.push(a[2]);else{var r=new Promise((n,r)=>a=e[t]=[n,r]);n.push(a[2]=r);var o=d.p+d.u(t),s=new Error;d.l(o,n=>{if(d.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var r=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+r+": "+o+")",s.name="ChunkLoadError",s.type=r,s.request=o,a[1](s)}},"chunk-"+t,t)}};var t=(t,n)=>{var a,r,[o,s,i]=n,l=0;if(o.some(t=>0!==e[t])){for(a in s)d.o(s,a)&&(d.m[a]=s[a]);i&&i(d)}for(t&&t(n);l<o.length;l++)r=o[l],d.o(e,r)&&e[r]&&e[r][0](),e[r]=0},n=self.webpackChunkflashcards_www=self.webpackChunkflashcards_www||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),window.isFlashCardGameRunning?console.warn("Skipping duplicate game initialization."):(window.isFlashCardGameRunning=!0,d.e(488).then(d.bind(d,488)).then(e=>{const{Game:t,GameMode:n}=e,a=document.createElement("style");a.textContent="\n        .shake {\n            animation: shake 0.5s;\n        }\n        @keyframes shake {\n            10%, 90% { transform: translateX(-1px); }\n            20%, 80% { transform: translateX(2px); }\n            30%, 50%, 70% { transform: translateX(-4px); }\n            40%, 60% { transform: translateX(4px); }\n        }\n        .card.solved {\n            animation: solved-animation 0.5s forwards;\n        }\n        @keyframes solved-animation {\n            to {\n                transform: scale(1.1);\n                opacity: 0;\n            }\n        }\n    ",document.head.appendChild(a);const r=new URLSearchParams(window.location.search),o=r.get("mode");let s=n.Normal;"reverse"===o?s=n.Reverse:"both"===o&&(s=n.Both);const i="true"===r.get("debug"),l=Math.floor(Math.random()*2**32),d=t.new(600,800,l,s),c=d.get_id();console.log(`[Game ${c}] Initialized.`);const m=document.getElementById("game-board"),u=document.getElementById("cards-container"),p=document.getElementById("score"),f=document.getElementById("health"),h=document.getElementById("game-over-screen"),b=document.getElementById("answer-input");let v=null,g=new Map;i&&(v=document.createElement("div"),v.id="debug-pane",Object.assign(v.style,{position:"absolute",top:"10px",right:"10px",width:"250px",maxHeight:"calc(100% - 20px)",overflowY:"auto",backgroundColor:"rgba(255, 255, 255, 0.9)",border:"1px solid #ccc",padding:"10px",fontFamily:"monospace",fontSize:"12px",zIndex:"100"}),document.body.appendChild(v));let y=null,w=null,k=null,_=null;const x=document.createElement("div");x.id="pause-screen",x.className="overlay",x.innerHTML="<h1>Paused</h1><p>Press Enter to continue</p>",Object.assign(x.style,{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.7)",color:"white",zIndex:"20",display:"none",justifyContent:"center",alignItems:"center",flexDirection:"column"}),m.appendChild(x),w=e=>{if("Enter"===e.key)if(e.preventDefault(),d.is_game_over())d.restart(),h.classList.add("hidden"),x.style.display="none",b.focus();else if(d.is_paused())d.resume();else{const e=b.value;e&&(d.submit_answer(e)||(m.classList.add("shake"),setTimeout(()=>{m.classList.remove("shake")},500)),b.value="")}},b.addEventListener("keydown",w),k=e=>{"Tab"!==e.key||d.is_game_over()||(e.preventDefault(),d.pause())},document.addEventListener("keydown",k),_=()=>{document.hidden&&!d.is_game_over()&&d.pause()},document.addEventListener("visibilitychange",_);let E=0;y=requestAnimationFrame(function e(t){const n=(t-E)/1e3;E=t,d.tick(n||0),function(){const e=d.get_cards(),t=new Set(e.map(e=>e.id));for(const[e,n]of g.entries())t.has(e)||(n.classList.add("solved"),n.addEventListener("animationend",()=>{n.remove()}),g.delete(e));if(i&&v){const e=d.get_unlocked_cards();let t="<h3>Unlocked Cards</h3><ul>";for(const n of e)t+=`<li><b>${n.front}</b> - ${n.back}</li>`;t+="</ul>",v.innerHTML=t}for(const t of e){let e=g.get(t.id);if(!e){e=document.createElement("div"),e.className="card",g.set(t.id,e),u.appendChild(e);const n=document.createElement("div");n.className="front",e.appendChild(n);const a=document.createElement("div");a.className="back",e.appendChild(a)}t.flipped?e.classList.add("flipped"):e.classList.remove("flipped"),e.style.left=`${t.x}px`,e.style.top=`${t.y}px`,e.querySelector(".front").textContent=t.front,e.querySelector(".back").textContent=t.back}p.textContent=`Score: ${d.get_score()}`;const n=d.get_health(),a=d.get_max_health();let r="";for(let e=0;e<n;e++)r+="❤️";for(let e=0;e<a-n;e++)r+="🖤";f.innerHTML=r,d.is_game_over()&&h.classList.remove("hidden"),d.is_paused()?x.style.display="flex":x.style.display="none"}(),y=requestAnimationFrame(e)}),e.hot&&e.hot.dispose(()=>{window.location.reload()})}).catch(console.error))})();
//# sourceMappingURL=bootstrap.js.map